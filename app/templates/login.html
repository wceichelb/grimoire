{% extends 'base.html' %}

{% block content %}
<script type="text/javascript" charset="utf-8">
  function set_openid(openid, pr)
  {
    u = openid.search('<username>');
    if (u != -1) {
      // openid requires username
      user = prompt('Enter your ' + pr + ' username:');
      openid = openid.substr(0, u) + user;
    }
    form = document.forms['login'];
    form.openid = openid;
  }
</script>
{% include 'flash.html' %}
<div class="well">
  <h3>Please sign in</h3>
  <form class="form" action="" method="post" name="login">
    {{ form.hidden_tag() }}
    <div class="help-block">Click you OpenID provider below</div>
    <div class="control-group">
      {% for pr in providers %}
      <a href="javascript:set_openid('{{ pr.url }}', '{{ pr.name }}');">{{ pr.name }}</a>
      {% endfor %}
    </div>
    <div class="control-group">
      <div class="controls">
        <label class="checkbox" for="remember_me">
          {{ form.remember_me }} Remember Me
        </label>
      </div>
    </div>
    <div class="control-group">
      <div class="controls">
        <input class="btn btn-primary" type="submit" value="Sign In" />
      </div>
    </div>
  </form>
</div>
{% endblock %}
